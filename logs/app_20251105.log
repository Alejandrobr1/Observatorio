2025-11-05 20:32:39,528 - conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 20:32:39,616 - conexion - INFO - Conexión a base de datos cerrada
2025-11-05 20:32:39,766 - __main__ - INFO - Eliminando tablas existentes (si las hay)...
2025-11-05 20:32:40,005 - __main__ - INFO - Tablas eliminadas.
2025-11-05 20:32:40,005 - __main__ - INFO - Iniciando creación de tablas en la base de datos
2025-11-05 20:32:40,273 - __main__ - INFO - Tablas creadas exitosamente en observatorio_bilinguismo
2025-11-05 20:32:40,273 - __main__ - INFO - Proceso de creación de tablas finalizado
2025-11-05 20:44:04,462 - conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 20:44:04,480 - conexion - INFO - Conexión a base de datos cerrada
2025-11-05 20:44:06,465 - __main__ - INFO - Eliminando tablas existentes (si las hay)...
2025-11-05 20:44:06,646 - __main__ - INFO - Tablas eliminadas.
2025-11-05 20:44:06,647 - __main__ - INFO - Iniciando creación de tablas en la base de datos
2025-11-05 20:44:06,894 - __main__ - INFO - Tablas creadas exitosamente en observatorio_bilinguismo
2025-11-05 20:44:06,895 - __main__ - INFO - Proceso de creación de tablas finalizado
2025-11-05 20:47:06,846 - conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 20:47:06,878 - conexion - INFO - Conexión a base de datos cerrada
2025-11-05 20:47:06,992 - __main__ - INFO - Eliminando tablas existentes (si las hay)...
2025-11-05 20:47:07,058 - __main__ - ERROR - Error al crear las tablas: (mysql.connector.errors.DatabaseError) 3730 (HY000): Cannot drop table 'Cursos' referenced by a foreign key constraint 'Instituciones_ibfk_1' on table 'Instituciones'.
[SQL: 
DROP TABLE `Cursos`]
(Background on this error at: https://sqlalche.me/e/20/4xp6)
Traceback (most recent call last):
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\connection_cext.py", line 772, in cmd_query
    self._cmysql.query(
    ~~~~~~~~~~~~~~~~~~^
        query,
        ^^^^^^
    ...<3 lines>...
        query_attrs=self.query_attrs,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
_mysql_connector.MySQLInterfaceError: Cannot drop table 'Cursos' referenced by a foreign key constraint 'Instituciones_ibfk_1' on table 'Instituciones'.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\cursor_cext.py", line 353, in execute
    self._connection.cmd_query(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._stmt_partition["mappable_stmt"],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        raw_as_string=self._raw_as_string,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\opentelemetry\context_propagation.py", line 97, in wrapper
    return method(cnx, *args, **kwargs)
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\connection_cext.py", line 781, in cmd_query
    raise get_mysql_exception(
        err.errno, msg=err.msg, sqlstate=err.sqlstate
    ) from err
mysql.connector.errors.DatabaseError: 3730 (HY000): Cannot drop table 'Cursos' referenced by a foreign key constraint 'Instituciones_ibfk_1' on table 'Instituciones'.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\Base_datos\crear_tablas.py", line 15, in <module>
    Base.metadata.drop_all(engine)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\sql\schema.py", line 5956, in drop_all
    bind._run_ddl_visitor(
    ~~~~~~~~~~~~~~~~~~~~~^
        ddl.SchemaDropper, self, checkfirst=checkfirst, tables=tables
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 3252, in _run_ddl_visitor
    conn._run_ddl_visitor(visitorcallable, element, **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 2459, in _run_ddl_visitor
    ).traverse_single(element)
      ~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\sql\visitors.py", line 661, in traverse_single
    return meth(obj, **kw)
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\sql\ddl.py", line 1142, in visit_metadata
    self.traverse_single(
    ~~~~~~~~~~~~~~~~~~~~^
        table,
        ^^^^^^
    ...<2 lines>...
        _ignore_sequences=seq_coll,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\sql\visitors.py", line 661, in traverse_single
    return meth(obj, **kw)
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\sql\ddl.py", line 1209, in visit_table
    DropTable(table)._invoke_with(self.connection)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\sql\ddl.py", line 321, in _invoke_with
    return bind.execute(self)
           ~~~~~~~~~~~~^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\sql\ddl.py", line 187, in _execute_on_connection
    return connection._execute_ddl(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 1530, in _execute_ddl
    ret = self._execute_context(
        dialect,
    ...<4 lines>...
        compiled,
    )
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\cursor_cext.py", line 353, in execute
    self._connection.cmd_query(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._stmt_partition["mappable_stmt"],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        raw_as_string=self._raw_as_string,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\opentelemetry\context_propagation.py", line 97, in wrapper
    return method(cnx, *args, **kwargs)
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\connection_cext.py", line 781, in cmd_query
    raise get_mysql_exception(
        err.errno, msg=err.msg, sqlstate=err.sqlstate
    ) from err
sqlalchemy.exc.DatabaseError: (mysql.connector.errors.DatabaseError) 3730 (HY000): Cannot drop table 'Cursos' referenced by a foreign key constraint 'Instituciones_ibfk_1' on table 'Instituciones'.
[SQL: 
DROP TABLE `Cursos`]
(Background on this error at: https://sqlalche.me/e/20/4xp6)
2025-11-05 20:47:07,114 - __main__ - INFO - Proceso de creación de tablas finalizado
2025-11-05 20:48:07,328 - conexion - ERROR - Error al conectar a la base de datos: (mysql.connector.errors.ProgrammingError) 1049 (42000): Unknown database 'observatorio_bilinguismo'
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\connection_cext.py", line 354, in _open_connection
    self._cmysql.connect(**cnx_kwargs)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
_mysql_connector.MySQLInterfaceError: Unknown database 'observatorio_bilinguismo'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 3301, in raw_connection
    return self.pool.connect()
           ~~~~~~~~~~~~~~~~~^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
           ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
    ~~~~~~~~~~~~~~^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\default.py", line 629, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\pooling.py", line 322, in connect
    return CMySQLConnection(*args, **kwargs)
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\connection_cext.py", line 142, in __init__
    self.connect(**kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\abstracts.py", line 1604, in connect
    self._open_connection()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\connection_cext.py", line 360, in _open_connection
    raise get_mysql_exception(
        err.errno, msg=err.msg, sqlstate=err.sqlstate
    ) from err
mysql.connector.errors.ProgrammingError: 1049 (42000): Unknown database 'observatorio_bilinguismo'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\Base_datos\conexion.py", line 16, in <module>
    with engine.connect() as connection:
         ~~~~~~~~~~~~~~^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 3277, in connect
    return self._connection_cls(self)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 145, in __init__
    Connection._handle_dbapi_exception_noconnection(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        err, dialect, engine
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 2440, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 3301, in raw_connection
    return self.pool.connect()
           ~~~~~~~~~~~~~~~~~^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
           ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
    ~~~~~~~~~~~~~~^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\default.py", line 629, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\pooling.py", line 322, in connect
    return CMySQLConnection(*args, **kwargs)
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\connection_cext.py", line 142, in __init__
    self.connect(**kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\abstracts.py", line 1604, in connect
    self._open_connection()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\connection_cext.py", line 360, in _open_connection
    raise get_mysql_exception(
        err.errno, msg=err.msg, sqlstate=err.sqlstate
    ) from err
sqlalchemy.exc.ProgrammingError: (mysql.connector.errors.ProgrammingError) 1049 (42000): Unknown database 'observatorio_bilinguismo'
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-05 20:48:07,373 - conexion - INFO - Conexión a base de datos cerrada
2025-11-05 20:48:22,821 - conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 20:48:22,836 - conexion - INFO - Conexión a base de datos cerrada
2025-11-05 20:48:22,914 - __main__ - INFO - Eliminando tablas existentes (si las hay)...
2025-11-05 20:48:22,935 - __main__ - INFO - Tablas eliminadas.
2025-11-05 20:48:22,936 - __main__ - INFO - Iniciando creación de tablas en la base de datos
2025-11-05 20:48:23,262 - __main__ - INFO - Tablas creadas exitosamente en observatorio_bilinguismo
2025-11-05 20:48:23,262 - __main__ - INFO - Proceso de creación de tablas finalizado
2025-11-05 20:51:55,295 - conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 20:51:55,311 - conexion - INFO - Conexión a base de datos cerrada
2025-11-05 20:51:55,415 - __main__ - INFO - Eliminando tablas existentes (si las hay)...
2025-11-05 20:51:55,477 - __main__ - ERROR - Error al crear las tablas: (mysql.connector.errors.DatabaseError) 3730 (HY000): Cannot drop table 'Personas' referenced by a foreign key constraint 'Sedes_instituciones_ibfk_1' on table 'Sedes_instituciones'.
[SQL: 
DROP TABLE `Personas`]
(Background on this error at: https://sqlalche.me/e/20/4xp6)
Traceback (most recent call last):
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\connection_cext.py", line 772, in cmd_query
    self._cmysql.query(
    ~~~~~~~~~~~~~~~~~~^
        query,
        ^^^^^^
    ...<3 lines>...
        query_attrs=self.query_attrs,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
_mysql_connector.MySQLInterfaceError: Cannot drop table 'Personas' referenced by a foreign key constraint 'Sedes_instituciones_ibfk_1' on table 'Sedes_instituciones'.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\cursor_cext.py", line 353, in execute
    self._connection.cmd_query(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._stmt_partition["mappable_stmt"],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        raw_as_string=self._raw_as_string,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\opentelemetry\context_propagation.py", line 97, in wrapper
    return method(cnx, *args, **kwargs)
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\connection_cext.py", line 781, in cmd_query
    raise get_mysql_exception(
        err.errno, msg=err.msg, sqlstate=err.sqlstate
    ) from err
mysql.connector.errors.DatabaseError: 3730 (HY000): Cannot drop table 'Personas' referenced by a foreign key constraint 'Sedes_instituciones_ibfk_1' on table 'Sedes_instituciones'.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\Base_datos\crear_tablas.py", line 15, in <module>
    Base.metadata.drop_all(engine)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\sql\schema.py", line 5956, in drop_all
    bind._run_ddl_visitor(
    ~~~~~~~~~~~~~~~~~~~~~^
        ddl.SchemaDropper, self, checkfirst=checkfirst, tables=tables
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 3252, in _run_ddl_visitor
    conn._run_ddl_visitor(visitorcallable, element, **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 2459, in _run_ddl_visitor
    ).traverse_single(element)
      ~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\sql\visitors.py", line 661, in traverse_single
    return meth(obj, **kw)
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\sql\ddl.py", line 1142, in visit_metadata
    self.traverse_single(
    ~~~~~~~~~~~~~~~~~~~~^
        table,
        ^^^^^^
    ...<2 lines>...
        _ignore_sequences=seq_coll,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\sql\visitors.py", line 661, in traverse_single
    return meth(obj, **kw)
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\sql\ddl.py", line 1209, in visit_table
    DropTable(table)._invoke_with(self.connection)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\sql\ddl.py", line 321, in _invoke_with
    return bind.execute(self)
           ~~~~~~~~~~~~^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\sql\ddl.py", line 187, in _execute_on_connection
    return connection._execute_ddl(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 1530, in _execute_ddl
    ret = self._execute_context(
        dialect,
    ...<4 lines>...
        compiled,
    )
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\cursor_cext.py", line 353, in execute
    self._connection.cmd_query(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._stmt_partition["mappable_stmt"],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        raw_as_string=self._raw_as_string,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\opentelemetry\context_propagation.py", line 97, in wrapper
    return method(cnx, *args, **kwargs)
  File "D:\Proyectos Jc Code\Archivos para BD rionegro\Observatorio\env\Lib\site-packages\mysql\connector\connection_cext.py", line 781, in cmd_query
    raise get_mysql_exception(
        err.errno, msg=err.msg, sqlstate=err.sqlstate
    ) from err
sqlalchemy.exc.DatabaseError: (mysql.connector.errors.DatabaseError) 3730 (HY000): Cannot drop table 'Personas' referenced by a foreign key constraint 'Sedes_instituciones_ibfk_1' on table 'Sedes_instituciones'.
[SQL: 
DROP TABLE `Personas`]
(Background on this error at: https://sqlalche.me/e/20/4xp6)
2025-11-05 20:51:57,366 - __main__ - INFO - Proceso de creación de tablas finalizado
2025-11-05 20:54:07,720 - conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 20:54:07,737 - conexion - INFO - Conexión a base de datos cerrada
2025-11-05 20:54:07,831 - __main__ - INFO - Eliminando tablas existentes (si las hay)...
2025-11-05 20:54:07,854 - __main__ - INFO - Tablas eliminadas.
2025-11-05 20:54:07,855 - __main__ - INFO - Iniciando creación de tablas en la base de datos
2025-11-05 20:54:08,086 - __main__ - INFO - Tablas creadas exitosamente en observatorio_bilinguismo
2025-11-05 20:54:08,087 - __main__ - INFO - Proceso de creación de tablas finalizado
2025-11-05 21:16:35,138 - Base_datos.conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 21:16:35,155 - Base_datos.conexion - INFO - Conexión a base de datos cerrada
2025-11-05 21:45:47,946 - conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 21:45:47,965 - conexion - INFO - Conexión a base de datos cerrada
2025-11-05 21:45:48,053 - __main__ - INFO - Eliminando tablas existentes (si las hay)...
2025-11-05 21:45:48,380 - __main__ - INFO - Tablas eliminadas.
2025-11-05 21:45:48,380 - __main__ - INFO - Iniciando creación de tablas en la base de datos
2025-11-05 21:45:48,690 - __main__ - INFO - Tablas creadas exitosamente en observatorio_bilinguismo
2025-11-05 21:45:48,690 - __main__ - INFO - Proceso de creación de tablas finalizado
2025-11-05 21:45:53,400 - Base_datos.conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 21:45:53,420 - Base_datos.conexion - INFO - Conexión a base de datos cerrada
2025-11-05 21:47:01,940 - Base_datos.conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 21:47:01,977 - Base_datos.conexion - INFO - Conexión a base de datos cerrada
2025-11-05 21:49:03,669 - conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 21:49:03,684 - conexion - INFO - Conexión a base de datos cerrada
2025-11-05 21:49:03,783 - __main__ - INFO - Eliminando tablas existentes (si las hay)...
2025-11-05 21:49:03,807 - __main__ - INFO - Tablas eliminadas.
2025-11-05 21:49:03,808 - __main__ - INFO - Iniciando creación de tablas en la base de datos
2025-11-05 21:49:04,097 - __main__ - INFO - Tablas creadas exitosamente en observatorio_bilinguismo
2025-11-05 21:49:04,098 - __main__ - INFO - Proceso de creación de tablas finalizado
2025-11-05 21:49:08,132 - Base_datos.conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 21:49:08,148 - Base_datos.conexion - INFO - Conexión a base de datos cerrada
2025-11-05 21:59:16,146 - conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 21:59:16,164 - conexion - INFO - Conexión a base de datos cerrada
2025-11-05 21:59:16,289 - __main__ - INFO - Eliminando tablas existentes (si las hay)...
2025-11-05 21:59:16,505 - __main__ - INFO - Tablas eliminadas.
2025-11-05 21:59:16,505 - __main__ - INFO - Iniciando creación de tablas en la base de datos
2025-11-05 21:59:16,773 - __main__ - INFO - Tablas creadas exitosamente en observatorio_bilinguismo
2025-11-05 21:59:16,774 - __main__ - INFO - Proceso de creación de tablas finalizado
2025-11-05 21:59:43,927 - Base_datos.conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 21:59:43,944 - Base_datos.conexion - INFO - Conexión a base de datos cerrada
2025-11-05 22:00:06,796 - conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 22:00:06,811 - conexion - INFO - Conexión a base de datos cerrada
2025-11-05 22:00:06,895 - __main__ - INFO - Eliminando tablas existentes (si las hay)...
2025-11-05 22:00:06,918 - __main__ - INFO - Tablas eliminadas.
2025-11-05 22:00:06,918 - __main__ - INFO - Iniciando creación de tablas en la base de datos
2025-11-05 22:00:07,213 - __main__ - INFO - Tablas creadas exitosamente en observatorio_bilinguismo
2025-11-05 22:00:07,214 - __main__ - INFO - Proceso de creación de tablas finalizado
2025-11-05 22:00:10,734 - Base_datos.conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 22:00:10,749 - Base_datos.conexion - INFO - Conexión a base de datos cerrada
2025-11-05 22:01:14,891 - Base_datos.conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 22:01:14,908 - Base_datos.conexion - INFO - Conexión a base de datos cerrada
2025-11-05 22:01:51,419 - Base_datos.conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 22:01:51,438 - Base_datos.conexion - INFO - Conexión a base de datos cerrada
2025-11-05 22:05:05,058 - Base_datos.conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 22:05:05,075 - Base_datos.conexion - INFO - Conexión a base de datos cerrada
2025-11-05 22:07:41,041 - Base_datos.conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 22:07:41,057 - Base_datos.conexion - INFO - Conexión a base de datos cerrada
2025-11-05 22:08:30,270 - Base_datos.conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 22:08:30,286 - Base_datos.conexion - INFO - Conexión a base de datos cerrada
2025-11-05 22:08:58,333 - Base_datos.conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 22:08:58,347 - Base_datos.conexion - INFO - Conexión a base de datos cerrada
2025-11-05 22:09:09,944 - Base_datos.conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 22:09:09,959 - Base_datos.conexion - INFO - Conexión a base de datos cerrada
2025-11-05 22:09:46,487 - Base_datos.conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 22:09:46,503 - Base_datos.conexion - INFO - Conexión a base de datos cerrada
2025-11-05 22:14:16,519 - Base_datos.conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 22:14:16,539 - Base_datos.conexion - INFO - Conexión a base de datos cerrada
2025-11-05 22:15:34,004 - Base_datos.conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 22:15:34,022 - Base_datos.conexion - INFO - Conexión a base de datos cerrada
2025-11-05 22:17:29,028 - Base_datos.conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 22:17:29,047 - Base_datos.conexion - INFO - Conexión a base de datos cerrada
2025-11-05 22:19:06,342 - Base_datos.conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 22:19:06,363 - Base_datos.conexion - INFO - Conexión a base de datos cerrada
2025-11-05 22:19:24,033 - Base_datos.conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 22:19:24,048 - Base_datos.conexion - INFO - Conexión a base de datos cerrada
2025-11-05 22:21:12,121 - Base_datos.conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 22:21:12,140 - Base_datos.conexion - INFO - Conexión a base de datos cerrada
2025-11-05 22:23:15,878 - conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 22:23:15,895 - conexion - INFO - Conexión a base de datos cerrada
2025-11-05 22:23:16,007 - __main__ - INFO - Eliminando tablas existentes (si las hay)...
2025-11-05 22:23:16,233 - __main__ - INFO - Tablas eliminadas.
2025-11-05 22:23:16,233 - __main__ - INFO - Iniciando creación de tablas en la base de datos
2025-11-05 22:23:16,520 - __main__ - INFO - Tablas creadas exitosamente en observatorio_bilinguismo
2025-11-05 22:23:16,521 - __main__ - INFO - Proceso de creación de tablas finalizado
2025-11-05 22:23:28,827 - Base_datos.conexion - INFO - Conexión exitosa a MySQL en puerto 3308
2025-11-05 22:23:28,843 - Base_datos.conexion - INFO - Conexión a base de datos cerrada
